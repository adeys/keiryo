 <p>
    <h1>{{ post.title }}</h1> <em>by {{ post.author }}
    <button data-id="{{ post.id }}">Delete</button>
    <div>{{ post.content }}</div>
    <div>
        <h3>Comments</h3>
        {% for comment in post.comments %}
            <p>
                {{ comment.content }}
            </p>
        {% else %}
            No comment yet
        {% endfor %}
    </div>
</p>

<script>
    let del = document.querySelector('button');
    del.addEventListener("click", event => {
        fetch(`${window.location.href}/delete`, {method: 'DELETE'})
            .then(response => {
                if(response.ok) {
                    window.location.href = `${window.location.origin}/blog/index`;
                    alert('Deleted');
                }
                else console.log(response);
            })
            .catch(error => console.log(error.message));
    })
</script>